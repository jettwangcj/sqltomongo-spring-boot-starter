1. 加缓存
2. 更新操作后 通过 观察者模式 清除缓存
2. 装饰者模式 cache 参考 myBatis CachingExecutor


其实在重构之前 我一直在考虑 需要重构什么？哪些点可以改进
需要增加啥需求？ 缓存、基于注解

注解啥解析时期？
xml解析后封装到一个 Configuration 中，注解解析结果如何封装？

缓存如何做到按照配置开启？ 缓存加载那一层？

解析SQL时如何能让使用者扩展？ 模板方法？还是别的？

会使用哪些设计模式？

Mapper代理bean如何更加优雅

最后阅读 Mybatis 源码



### 前言
之前我写过一个工具，就是通过 原生SQL去查Mongo数据，具体可以查看我的这篇博文：
写完这个工具后就没有再管这个了，当时就是为了实现这样的功能，然后就没有考虑代码的优雅性，以及可扩展性。
后来我重新看这个工具时，感觉这个代码乱糟糟的（也许以后看这个版本也是乱糟糟），所以我决定将这个工具重构一下，
最初的想法就是，增加这个工具的扩展性，因为我的这个工具有一些功能是没有支持的，可以交给使用者自己去扩展，
那这样的话，易扩展性就显得比较重要了。

说到扩展性，我觉得常用的就是使用模板方法设计模式，或者回调机制，把不变的部分做成模板，把灵活变动的地方交由用户自己实现，
但是我在分析工具核心代码时，觉得这几种方式都不好(具体后面分析)

### 代码

### 哪些地方需要扩展
那既然要扩展，就要考虑哪些地方留给用户扩展的口子，我这次主要留了三个地方，一个是核心的SQL执行器（新增概念，Executor），第二个是SQL解析器（parser包下面），
第三个是SQL分析器（新增概念，analyzer包下）

### 这次重构变化有哪些

### 模仿Mybatis,新增 Configuration 配置类概念

### 如何增加SQL注解解析功能

### 最核心变化，模仿Mybatis，通过拦截器来扩展本工具的核心模块


